diff --git a/albumart.c b/albumart.c
index 057899e..a214106 100644
--- a/albumart.c
+++ b/albumart.c
@@ -61,12 +61,22 @@ char *get_path_from_image_size_type(const char *path, const image_size_type_t *i
 }
 
 static int
-art_cache_exists(const char *orig_path, char **cache_file)
+art_cache_exists(const char *orig_path, const image_size_type_t *image_size_type, char **cache_file)
 {
-	if( xasprintf(cache_file, "%s/art_cache%s", db_path, orig_path) < 0 )
+	size_t buffer_size;
+	char* cache_part;
+
+	if(xasprintf(&cache_part, "%s/art_cache%s", db_path, orig_path) < 0)
 		return 0;
 
-	strcpy(strchr(*cache_file, '\0')-4, ".jpg");
+	strcpy(strchr(cache_part, '\0')-4, ".jpg");
+
+	buffer_size = strlen(cache_part)+strlen(image_size_type->name)+5;
+	*cache_file = malloc(buffer_size);
+	if (!*cache_file) return 0;
+
+	strcat(strcat(strcat(*cache_file, cache_part), image_size_type->name), ".jpg");
+	free(cache_part);
 
 	return (!access(*cache_file, F_OK));
 }
@@ -120,22 +130,21 @@ save_resized_album_art_from_imsrc_to(const image_s *imsrc, const char *src_file,
 static char *
 save_resized_album_art_from_imsrc(const image_s *imsrc, const char *path, const image_size_type_t *image_size_type)
 {
-	char *cache_file, *dst_file;
+	char *cache_file;
+
 	if (!image_size_type)
 		return NULL;
 
-	art_cache_exists(path, &cache_file);
-	dst_file = get_path_from_image_size_type(cache_file, image_size_type);
-	free(cache_file);
+	art_cache_exists(path, image_size_type, &cache_file);
 
-	int ret = save_resized_album_art_from_imsrc_to(imsrc, path, dst_file, image_size_type);
+	int ret = save_resized_album_art_from_imsrc_to(imsrc, path, cache_file, image_size_type);
 	if (ret != 0)
 	{
-		free(dst_file);
-		dst_file = NULL;
+		free(cache_file);
+		cache_file = NULL;
 	}
 
-	return dst_file;
+	return cache_file;
 }
 
 int
@@ -224,7 +233,7 @@ check_embedded_art(const char *path, uint8_t *image_data, int image_size)
 	{
 		if( !last_success )
 			return NULL;
-		art_cache_exists(path, &art_path);
+		art_cache_exists(path, get_image_size_type(JPEG_MED), &art_path);
 
 		int ret = link_file(last_path, art_path);
 		if (ret == 0)
@@ -323,7 +332,7 @@ add_cached_image:
 
 			DPRINTF(E_DEBUG, L_ARTWORK, "Found album art in %s\n", file);
 			*original_album_art_location = strdup(file);
-			if (art_cache_exists(file, &cache_file))
+			if (art_cache_exists(file, get_image_size_type(JPEG_MED), &cache_file))
 				return cache_file;
 
 			int ret = copy_file(file, cache_file);
