_commit=423769ecd822436533e91db0712082760f7acd39
pkgname=libupnpp
pkgver=0.15.1
pkgrel=3
pkgdesc="A C++ wrapper for libupnp - used with upmpdcli or upplay"
url="https://github.com/medoc92/libupnpp"
arch=('x86_64' 'i686' 'armv6h' 'armv7h')
license=('GPL2')
makedepends=('git' 'automake')
depends=('libupnp' 'expat' 'curl')
source=("git://github.com/medoc92/libupnpp.git#commit=${_commit}")
sha256sums=('SKIP')

prepare(){
	cd "${srcdir}/${pkgname}"
	./autogen.sh
}

build(){
	cd "${srcdir}/${pkgname}"
	./configure --prefix=/usr --sysconfdir=/etc
	make libupnpp/config.h
	make
}

package(){
	cd "${srcdir}/${pkgname}"
	make DESTDIR="$pkgdir" install
}
